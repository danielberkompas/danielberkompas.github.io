<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>SEO Tags In Phoenix</title>
  <meta property="og:title" content="SEO Tags In Phoenix" />
  <meta name="twitter:title" content="SEO Tags In Phoenix" />
  <meta name="description" content="Public facing websites need to have some basic search engine optimization (SEO) tags, such as &lt;title&gt; and &lt;meta name=&quot;description&quot;&gt;. In Rails, you could achieve this pretty simply by putting a yield :head tag in the appropriate layout.

">
  <meta property="og:description" content="Public facing websites need to have some basic search engine optimization (SEO) tags, such as &lt;title&gt; and &lt;meta name=&quot;description&quot;&gt;. In Rails, you could achieve this pretty simply by putting a yield :head tag in the appropriate layout.

">
  <meta name="twitter:description" content="Public facing websites need to have some basic search engine optimization (SEO) tags, such as &lt;title&gt; and &lt;meta name=&quot;description&quot;&gt;. In Rails, you could achieve this pretty â€¦">
  <meta name="author" content="Daniel Berkompas"/>
  <link href='https://blog.danielberkompas.com/img/favicon-96x96.png' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://blog.danielberkompas.com/img/avatar.jpg" />
  <meta name="twitter:image" content="https://blog.danielberkompas.com/img/avatar.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dberkom" />
  <meta name="twitter:creator" content="@dberkom" />
  <meta property="og:url" content="https://blog.danielberkompas.com/2016/01/28/seo-tags-in-phoenix/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Random Bits" />

  <meta name="generator" content="Hugo 0.36.1" />
  <link rel="canonical" href="https://blog.danielberkompas.com/2016/01/28/seo-tags-in-phoenix/" />
  <link rel="alternate" href="https://blog.danielberkompas.com/index.xml" type="application/rss+xml" title="Random Bits">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://blog.danielberkompas.com/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://blog.danielberkompas.com/css/syntax.css" /><link rel="stylesheet" href="https://blog.danielberkompas.com/css/codeblock.css" /><link rel="stylesheet" href="https://blog.danielberkompas.com/css/overrides.css" />


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-23392891-3', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://blog.danielberkompas.com/">Random Bits</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Projects" href="/projects">Projects</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/about">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Random Bits" href="https://blog.danielberkompas.com/">
            <img class="avatar-img" src="https://blog.danielberkompas.com/img/avatar.jpg" alt="Random Bits" />
          </a>
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>SEO Tags In Phoenix</h1>
                
                
                  <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on January 28, 2016
  
  
  &nbsp;|&nbsp;
  <i class="fa fa-clock-o"></i> 6 minutes (1172 words)
  
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Public facing websites need to have some basic search engine optimization (SEO) tags, such as <code>&lt;title&gt;</code> and <code>&lt;meta name=&quot;description&quot;&gt;</code>. In Rails, you could achieve this pretty simply by putting a <code>yield :head</code> tag in the appropriate layout.</p>

<p></p>
<div class="highlight"><pre class="chroma"><code class="language-erb" data-lang="erb">&lt;head&gt;
  &lt;%= yield :head %&gt;
&lt;/head&gt;</code></pre></div>
<p>Inside any of your views, you could then use <code>content_for</code> to populate this section:</p>
<div class="highlight"><pre class="chroma"><code class="language-erb" data-lang="erb">&lt;% content_for :head do %&gt;
  &lt;title&gt;My Awesome Site&lt;/title&gt;
  &lt;meta name=&#34;description&#34; content=&#34;...&#34; /&gt;
&lt;% end %&gt;

&lt;!-- More view content here... ---&gt;</code></pre></div>
<p>This is nice, in that it keeps the HTML all together in more or less the same place. In <a href="https://phoenixframework.org">Phoenix</a>, this has to be done differently.</p>

<h2 id="how-phoenix-is-different">How Phoenix is Different</h2>

<p>In Phoenix, your layout is rendered <em>before</em> your page template is rendered. Take this layout, for example:</p>
<div class="highlight"><pre class="chroma"><code class="language-erb" data-lang="erb">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;meta name=&#34;description&#34; content=&#34;&#34; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;%= render @view_module, @view_template, assigns %&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre></div>
<p>Because Phoenix renders templates as functions, by the time your <code>@view_template</code> is rendered, the <code>&lt;head&gt;</code> is already rendered. So, there&rsquo;s nothing that your view template can do to inject content back up into <code>&lt;head&gt;</code>. The <code>content_for</code> approach won&rsquo;t work.</p>

<p>I think there are at least four approaches to dealing with this.</p>

<h2 id="1-render-existing-2">1. <code>render_existing/2</code></h2>

<p>Both Chris McCord and JosÃ© Valim mentioned <code>render_existing/2</code> when they saw this post. I knew about it, (I believe it was one of my questions on IRC that prompted its creation, actually) and while I don&rsquo;t necessarily prefer it, it really should be mentioned here.</p>

<p>To use <code>render_existing</code> for your meta tags, you&rsquo;d change your layout to look like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-erb" data-lang="erb">&lt;html&gt;
  &lt;head&gt;
    &lt;%= render_existing(@view_module, &#34;meta.&#34; &lt;&gt; @view_template, assigns) ||
        render(MyApp.LayoutView, &#34;meta.html&#34;, assigns) %&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;%= render @view_module, @view_template, assigns %&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre></div>
<p>The <code>render_existing</code> function will silently render nothing if the given template doesn&rsquo;t exist. The alternate <code>render</code> call will take over if you don&rsquo;t specify a meta file for your view/action, and will render the defaults.</p>

<p>Anyway, after modifying your layout, you could then create a <code>meta.index.html.eex</code> file in your view&rsquo;s template folder that contains whatever content you want:</p>

<pre><code>&lt;title&gt;My Awesome App&lt;/title&gt;
&lt;meta name=&quot;description&quot; content=&quot;...&quot; /&gt;
</code></pre>

<p>This feels a bit more like Rails, but you end up with an extra file for each action in your controller, which feels a little odd.</p>

<pre><code>meta.edit.html.eex
meta.index.html.eex
meta.new.html.eex
edit.html.eex
index.html.eex
new.html.eex
</code></pre>

<p>You can avoid this by defining these templates as functions in your view rather than template files:</p>
<div class="highlight"><pre class="chroma"><code class="language-elixir" data-lang="elixir"><span class="n">def</span> <span class="n">render</span><span class="p">(</span><span class="s2">&#34;meta.index.html&#34;</span><span class="p">,</span> <span class="n">_assigns</span><span class="p">)</span> <span class="n">do</span>
  <span class="sx">~E{
</span><span class="sx">    &lt;title&gt;My Awesome App&lt;/title&gt;
</span><span class="sx">    &lt;meta type=&#34;description&#34; content=&#34;...&#34; /&gt;
</span><span class="sx">  }</span>
<span class="n">end</span></code></pre></div>
<p>The <code>~E</code> sigil allows you to write EEX code inline in your view. This is fine, but it still can get a little messy looking with long meta descriptions, and you end up with a lot of function definitions.</p>

<p>I personally think this is likely to confuse the other devs on the projects I work on, so I&rsquo;ve chosen not to establish it as the &ldquo;standard&rdquo; way at <a href="http://infinite.red">Infinite Red</a>. It is definitely a valid option though, and seems to be the &ldquo;official&rdquo; way.</p>

<h2 id="2-assigns-in-each-controller-action">2. Assigns in Each Controller Action</h2>

<p>The second approach modifies the layout to look like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-erb" data-lang="erb">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;%= @title %&gt;&lt;/title&gt;
    &lt;meta name=&#34;description&#34; content=&#34;&lt;%= @meta %&gt;&#34; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;%= render @view_module, @view_template, assigns %&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre></div>
<p>Then, in each controller action in the app, the developer must specify <code>title</code> and <code>meta</code> assigns:</p>
<div class="highlight"><pre class="chroma"><code class="language-elixir" data-lang="elixir"><span class="n">def</span> <span class="n">index</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">_params</span><span class="p">)</span> <span class="n">do</span>
  <span class="n">conn</span>
  <span class="o">|&gt;</span> <span class="n">assign</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="s2">&#34;My Awesome App&#34;</span><span class="p">)</span>
  <span class="o">|&gt;</span> <span class="n">assign</span><span class="p">(</span><span class="ss">:meta</span><span class="p">,</span> <span class="s2">&#34;...&#34;</span><span class="p">)</span>
  <span class="o">|&gt;</span> <span class="n">render</span><span class="p">(</span><span class="s2">&#34;index.html&#34;</span><span class="p">)</span>
<span class="n">end</span></code></pre></div>
<p>There are a few downsides to this. First, the title and meta description can dominate the controller action, making it harder to see the business logic. Second, it can easily end up being pretty ugly if you don&rsquo;t put it all on one line:</p>
<div class="highlight"><pre class="chroma"><code class="language-elixir" data-lang="elixir"><span class="n">def</span> <span class="n">index</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">_params</span><span class="p">)</span> <span class="n">do</span>
  <span class="n">conn</span>
  <span class="o">|&gt;</span> <span class="n">assign</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="s2">&#34;My Awesome App&#34;</span><span class="p">)</span>
  <span class="o">|&gt;</span> <span class="n">assign</span><span class="p">(</span><span class="ss">:meta</span><span class="p">,</span> <span class="sh">&#34;&#34;&#34;
</span><span class="sh">     Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam feugiat 
</span><span class="sh">     nibh ligula. Maecenas egestas nibh cursus erat sodales, vitae congue nisi
</span><span class="sh">     tempus. Nam mattis et velit eu lacinia.
</span><span class="sh">     &#34;&#34;&#34;</span><span class="p">)</span>
  <span class="o">|&gt;</span> <span class="n">render</span><span class="p">(</span><span class="s2">&#34;index.html&#34;</span><span class="p">)</span>
<span class="n">end</span></code></pre></div>
<p>I think we can do better.</p>

<h2 id="3-delegated-functions">3. Delegated Functions</h2>

<p>Another alternative I&rsquo;ve seen is to delegate to functions on your view module, like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-erb" data-lang="erb">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;%= @view_module.title(@view_template, assigns) %&gt;&lt;/title&gt;
    &lt;meta name=&#34;description&#34; content=&#34;&lt;%= @view_module.meta(@view_template, assigns) %&gt;&#34; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;%= render @view_module, @view_template, assigns %&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre></div>
<p>Then, in your view module, you can define different titles or meta descriptions for different layouts, or set a default.</p>
<div class="highlight"><pre class="chroma"><code class="language-elixir" data-lang="elixir"><span class="n">defmodule</span> <span class="p"></span><span class="nc">MyApp.PageView</span> <span class="n">do</span>
  <span class="n">use</span> <span class="p"></span><span class="nc">MyApp.Web</span><span class="p">,</span> <span class="ss">:view</span>
  
  <span class="n">def</span> <span class="n">title</span><span class="p">(</span><span class="s2">&#34;index.html&#34;</span><span class="p">,</span> <span class="n">_assigns</span><span class="p">),</span> <span class="ss">do</span><span class="p">:</span> <span class="s2">&#34;My Awesome App&#34;</span>
  <span class="n">def</span> <span class="n">title</span><span class="p">(</span><span class="n">_other</span><span class="p">,</span> <span class="n">_assigns</span><span class="p">),</span> <span class="ss">do</span><span class="p">:</span> <span class="s2">&#34;Default Title&#34;</span>
  
  <span class="n">def</span> <span class="n">meta</span><span class="p">(</span><span class="s2">&#34;index.html&#34;</span><span class="p">,</span> <span class="n">_assigns</span><span class="p">),</span> <span class="ss">do</span><span class="p">:</span> <span class="s2">&#34;...&#34;</span>
  <span class="n">def</span> <span class="n">meta</span><span class="p">(</span><span class="n">_other</span><span class="p">,</span> <span class="n">_assigns</span><span class="p">),</span> <span class="ss">do</span><span class="p">:</span> <span class="s2">&#34;Default Meta&#34;</span>
<span class="n">end</span></code></pre></div>
<p>This is pretty similar to the first approach outlined above.</p>

<p>If you didn&rsquo;t want to have to define these functions on every view, you could create a mixin that would define default implementations of these <code>title</code> and <code>meta</code> functions.</p>
<div class="highlight"><pre class="chroma"><code class="language-elixir" data-lang="elixir"><span class="n">defmodule</span> <span class="p"></span><span class="nc">MyApp.SEO.Defaults</span> <span class="n">do</span>
  <span class="n">defmacro</span> <span class="n">__using__</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="n">do</span>
    <span class="n">quote</span> <span class="n">do</span>
      <span class="n">def</span> <span class="n">title</span><span class="p">(</span><span class="n">_other</span><span class="p">,</span> <span class="n">_assigns</span><span class="p">),</span> <span class="ss">do</span><span class="p">:</span> <span class="s2">&#34;Default Title&#34;</span>
      <span class="n">def</span> <span class="n">meta</span><span class="p">(</span><span class="n">_other</span><span class="p">,</span> <span class="n">_assigns</span><span class="p">),</span> <span class="ss">do</span><span class="p">:</span> <span class="s2">&#34;Default Meta&#34;</span>
      
      <span class="n">defoverridable</span> <span class="p">[</span><span class="ss">title</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="ss">meta</span><span class="p">:</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">end</span>
  <span class="n">end</span>
<span class="n">end</span></code></pre></div>
<p>Then, <code>use</code> this module in your <code>web/web.ex</code> to make it affect all views.</p>
<div class="highlight"><pre class="chroma"><code class="language-elixir" data-lang="elixir"><span class="n">def</span> <span class="n">view</span> <span class="n">do</span>
  <span class="n">quote</span> <span class="n">do</span>
    <span class="c1"># ...</span>
    <span class="n">use</span> <span class="p"></span><span class="nc">MyApp.SEO.Defaults</span>
  <span class="n">end</span>
<span class="n">end</span></code></pre></div>
<p>This approach has the advantage of cleaning up the controller, but I think it&rsquo;s a bit less clear where the titles and meta descriptions are being generated, and it&rsquo;s not clearly better than the <code>render_existing</code> approach.</p>

<h2 id="4-use-a-plug">4. Use a Plug</h2>

<p>A huge number of problems can be solved with Plug, so today, I thought I would try to use it to solve this problem. It&rsquo;s pretty simple to create a custom plug for this:</p>
<div class="highlight"><pre class="chroma"><code class="language-elixir" data-lang="elixir"><span class="n">defmodule</span> <span class="p"></span><span class="nc">MyApp.SEO.Plug</span> <span class="n">do</span>
  <span class="n">def</span> <span class="n">put_seo</span><span class="p">(%{</span><span class="ss">private</span><span class="p">:</span> <span class="p">%{</span><span class="ss">phoenix_action</span><span class="p">:</span> <span class="n">action</span><span class="p">}}</span> <span class="o">=</span> <span class="n">conn</span><span class="p">,</span> <span class="n">settings</span><span class="p">)</span> <span class="n">do</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="n">action</span><span class="p">]</span> <span class="o">||</span> <span class="p">[]</span>

    <span class="n">conn</span>
    <span class="o">|&gt;</span> <span class="n">assign</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="n">settings</span><span class="p">[</span><span class="ss">:title</span><span class="p">])</span>
    <span class="o">|&gt;</span> <span class="n">assign</span><span class="p">(</span><span class="ss">:meta</span><span class="p">,</span> <span class="n">settings</span><span class="p">[</span><span class="ss">:meta</span><span class="p">])</span>
  <span class="n">end</span>
<span class="n">end</span></code></pre></div>
<p>The plug takes a &ldquo;settings&rdquo; argument, which we read from to determine what the <code>title</code> and <code>meta</code> assigns should be. I just include it in the <code>controller</code> section of <code>web/web.ex</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-elixir" data-lang="elixir"><span class="n">def</span> <span class="n">controller</span> <span class="n">do</span>
  <span class="n">quote</span> <span class="n">do</span>
    <span class="c1"># ...</span>
    <span class="n">import</span> <span class="p"></span><span class="nc">MyApp.SEO.Plug</span>
  <span class="n">end</span>
<span class="n">end</span></code></pre></div>
<p>And then I can use it in my controllers, like so:</p>
<div class="highlight"><pre class="chroma"><code class="language-elixir" data-lang="elixir"><span class="n">defmodule</span> <span class="p"></span><span class="nc">MyApp.PageController</span> <span class="n">do</span>
  <span class="n">use</span> <span class="p"></span><span class="nc">MyApp.Web</span><span class="p">,</span> <span class="ss">:controller</span>
  
  <span class="na">@meta</span> <span class="p">%{</span>
    <span class="ss">index</span><span class="p">:</span> <span class="p">%{</span>
      <span class="ss">title</span><span class="p">:</span> <span class="s2">&#34;My Awesome App&#34;</span><span class="p">,</span>
      <span class="ss">meta</span><span class="p">:</span> <span class="sh">&#34;&#34;&#34;
</span><span class="sh">      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam feugiat 
</span><span class="sh">      nibh ligula. Maecenas egestas nibh cursus erat sodales, vitae congue nisi
</span><span class="sh">      tempus. Nam mattis et velit eu lacinia.
</span><span class="sh">      &#34;&#34;&#34;</span>
    <span class="p">},</span>
    <span class="ss">contact</span><span class="p">:</span> <span class="p">%{</span>
      <span class="ss">title</span><span class="p">:</span> <span class="s2">&#34;Contact Us&#34;</span>
      <span class="ss">meta</span><span class="p">:</span> <span class="s2">&#34;...&#34;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  
  <span class="n">plug</span> <span class="ss">:put_seo</span><span class="p">,</span> <span class="na">@meta</span>
  
  <span class="n">def</span> <span class="n">index</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">_params</span><span class="p">)</span> <span class="n">do</span>
    <span class="c1"># ...</span>
  <span class="n">end</span>
  
  <span class="n">def</span> <span class="n">contact</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">_params</span><span class="p">)</span> <span class="n">do</span>
    <span class="c1"># ...</span>
  <span class="n">end</span>
<span class="n">end</span></code></pre></div>
<p>And my layout looks like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-erb" data-lang="erb">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;%= assigns[:title] || &#34;Default&#34; %&gt;&lt;/title&gt;
    &lt;meta name=&#34;description&#34; content=&#34;&lt;%= assigns[:meta] || &#34;Default&#34; %&gt;&#34; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;%= render @view_module, @view_template, assigns %&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre></div>
<p>While I&rsquo;m not completely happy with it, (it would be nice to get all that text out of the controller), I think this is pretty clear. The controller actions are also uncluttered, which is a plus.</p>

<h2 id="other-approaches">Other Approaches</h2>

<p>I&rsquo;m pretty sure you could create a plug that used the <a href="http://hexdocs.pm/gettext/Gettext.html">Gettext</a> API to extract all the strings out to .po files. I&rsquo;m just not sure that&rsquo;s worth the added complexity and explaining to new developers.</p>

<p>I hope you found this helpful!</p>
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://blog.danielberkompas.com/2015/12/08/use-gen-event-with-ecto-callbacks/" data-toggle="tooltip" data-placement="top" title="Using GenEvent With Ecto Callbacks">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://blog.danielberkompas.com/2016/04/05/background-jobs-in-phoenix/" data-toggle="tooltip" data-placement="top" title="Background Jobs in Phoenix">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "dberkomcodeblog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="https://github.com/danielberkompas" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/dberkom" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/danielberkompas" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="https://blog.danielberkompas.com/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="danielberkompas.com">Daniel Berkompas</a>
            
          

          &nbsp;&bull;&nbsp;
          2017

          
            &nbsp;&bull;&nbsp;
            <a href="https://blog.danielberkompas.com/">Random Bits</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.36.1</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://blog.danielberkompas.com/js/main.js"></script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="https://blog.danielberkompas.com/js/load-photoswipe.js"></script>






  </body>
</html>

